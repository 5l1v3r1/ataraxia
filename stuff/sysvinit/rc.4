#! /bin/sh
#
# rc.4		This file is executed by init(8) when the system is being
#		initialized for run level 4 (XDM)
#
# Version:	@(#)/etc/rc.d/rc.4	2.00	02/17/93
#
# Author:	Fred N. van Kempen, <waltje@uwalt.nl.mugnet.org>
# At least 47% rewritten by:	Patrick J. Volkerding <volkerdi@slackware.com>
#

# Tell the viewers what's going to happen...
msg "Starting up X11 session manager..."
stat_busy

# If you'd like to start something different or in a different order than
# the options below, create your own startup script /etc/rc.d/rc.4.local
# and make it executable and it will be used instead:
if [ -x /etc/rc.d/rc.4.local ]; then
	exec /bin/bash /etc/rc.d/rc.4.local
fi

# Try to use GNOME's gdm session manager.	This comes first because if
# gdm is on the machine then the user probably installed it and wants
# to use it by default:
if [ -x /usr/bin/gdm ]; then
	exec /usr/bin/gdm -nodaemon
	stat_okay
fi

# Someone thought that gdm looked prettier in /usr/sbin,
# so look there, too:
if [ -x /usr/sbin/gdm ]; then
	exec /usr/bin/gdm -nodaemon
	stat_okay
fi

if [ -x /usr/bin/kdm ]; then
	exec /usr/bin/kdm -nodaemon
	stat_okay
fi

# Look for SDDM as well:
if [ -x /usr/bin/sddm ]; then
	exec /usr/bin/sddm
	stat_okay
fi

# If all you have is XDM, I guess it will have to do:
if [ -x /usr/bin/xdm ]; then
	exec /usr/bin/xdm -nodaemon
	stat_okay
fi

# All done.
