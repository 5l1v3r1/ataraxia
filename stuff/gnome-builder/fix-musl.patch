--- a/src/libide/foundry/ide-simple-build-system-discovery.c
+++ b/src/libide/foundry/ide-simple-build-system-discovery.c
@@ -27,6 +27,10 @@
 #endif
 #include <fnmatch.h>
 
+#if !defined(FNM_EXTMATCH)
+#define FNM_EXTMATCH 0
+#endif
+
 #include "ide-simple-build-system-discovery.h"
 
 typedef struct

--- src/main.c	2019-07-16 01:20:44.000000000 +0200
+++ src/main.c	2019-08-03 19:01:32.885299932 +0200
@@ -22,6 +22,9 @@
 
 #include "config.h"
 
+#if !defined(__GLIBC__)
+#include <locale.h>
+#endif
 #include <girepository.h>
 #include <glib/gi18n.h>
 #include <libide-core.h>
 
