# Description: Low level core library
# URL:         https://wiki.gnome.org/Projects/GLib
# Maintainer:  protonesso, nagakamira at gmail dot com
# Depends on:  meson zlib pcre util-linux libffi
# Section:     gnome

name=glib
version=2.62.2
release=2
options=('~emptydirs')
source=("http://ftp.gnome.org/pub/gnome/sources/$name/${version%.*}/$name-$version.tar.xz"
	"gio-modules.trigger" 
	"glib-compile-schemas.trigger")

build() {
	cd "$SRC"/$name-$version
	mkdir -p build
	cd build
	ataraxia-meson "$SRC"/$name-$version \
		-Ddoc=false \
		-Dman=false \
		-Dselinux=disabled
	ninja
	DESTDIR="$PKG" ninja install

	for a in gio-modules glib-compile-schemas; do
		install -Dm0644 "$SRC"/$a.trigger "$PKG"/var/lib/neko-triggers/$a
	done
}
