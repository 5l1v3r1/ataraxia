# Description: A ELF object file access library
# URL:         http://www.mr511.de/software/
# Maintainer:  protonesso, nagakamira at gmail dot com
# Priority:    required
# Section:     libs

name=libelf
version=0.8.13
release=1
options=('bootstrap')
source=("https://fossies.org/linux/misc/old/$name-$version.tar.gz")

build() {
	export mr_cv_target_elf=yes

	cd "$SRC"/$name-$version
	patch -Np1 -i "$STUFF"/libelf/dont-hardcode-ar.patch
	patch -Np1 -i "$STUFF"/libelf/preprocessor-warnings.patch

	./configure $BUILDFLAGS \
		--prefix=/usr \
		--enable-shared \
		--disable-nls
	make
	make \
		prefix="$PKG"/usr \
		libdir="$PKG"/usr/lib \
		install \
		install-compat \
		-j1
}
